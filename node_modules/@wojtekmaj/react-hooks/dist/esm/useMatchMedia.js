import { useCallback, useEffect, useMemo, useState } from 'react';
/**
 * Returns a flag which determines if the document matches the given media query string.
 *
 * @param {string} query Media query string
 * @returns {boolean} Whether the document matches the given media query string
 */

export default function useMatchMedia(query) {
  var mql = useMemo(function () {
    return window.matchMedia(query);
  }, [query]);

  var _useState = useState(mql.matches),
      matches = _useState[0],
      setMatches = _useState[1];

  var handleMql = useCallback(function (event) {
    setMatches(event.matches);
  }, []);
  useEffect(function () {
    mql.addListener(handleMql);
    return function () {
      mql.removeListener(handleMql);
    };
  }, [mql, handleMql]);
  return matches;
}