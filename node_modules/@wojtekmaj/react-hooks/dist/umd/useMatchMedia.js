"use strict";

exports.__esModule = true;
exports["default"] = useMatchMedia;

var _react = require("react");

/**
 * Returns a flag which determines if the document matches the given media query string.
 *
 * @param {string} query Media query string
 * @returns {boolean} Whether the document matches the given media query string
 */
function useMatchMedia(query) {
  var mql = (0, _react.useMemo)(function () {
    return window.matchMedia(query);
  }, [query]);

  var _useState = (0, _react.useState)(mql.matches),
      matches = _useState[0],
      setMatches = _useState[1];

  var handleMql = (0, _react.useCallback)(function (event) {
    setMatches(event.matches);
  }, []);
  (0, _react.useEffect)(function () {
    mql.addListener(handleMql);
    return function () {
      mql.removeListener(handleMql);
    };
  }, [mql, handleMql]);
  return matches;
}