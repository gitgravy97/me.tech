"use strict";

exports.__esModule = true;
exports["default"] = useIntersectionObserver;

var _react = require("react");

/**
 * Observes a given element using IntersectionObserver.
 *
 * @param {HTMLElement} element Element to attach IntersectionObserver to
 * @param {object} options IntersectionObserver options. WARNING! If you define the object in
 *   component body, make sure to memoize it.
 * @param {Function} observerCallback IntersectionObserver callback. WARNING! If you define
 *   the function in component body, make sure to memoize it.
 */
function useIntersectionObserver(element, options, observerCallback) {
  (0, _react.useEffect)(function () {
    if (!element || !('IntersectionObserver' in window)) {
      return undefined;
    }

    var observer = new IntersectionObserver(observerCallback, options);
    observer.observe(element);
    return function () {
      observer.disconnect();
    };
  }, [element, options, observerCallback]);
}